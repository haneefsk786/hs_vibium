# day 10: mcp server

vibium now speaks MCP. claude code can browse the web.

---

## what's MCP?

[model context protocol](https://modelcontextprotocol.io). or, given the timing: merry christmas present.

it's how AI assistants like claude code get superpowers. install an MCP server, and suddenly your AI can do things it couldn't before.

today, that's browser automation.

## what shipped

**mcp server (`./bin/clicker mcp`)**
- full JSON-RPC 2.0 over stdio
- tools: `browser_launch`, `browser_navigate`, `browser_click`, `browser_type`, `browser_screenshot`, `browser_find`, `browser_quit`
- screenshots save to disk with `--screenshot-dir` flag
- inline base64 images for direct viewing

**automated test suite**
- `make test` runs go tests + js tests + mcp integration tests
- `test/test_mcp.sh` - end-to-end MCP protocol verification
- process cleanup verified (no zombies)

**`make double-tap`**
- rule #2: always double tap
- kills zombie Chrome/chromedriver processes
- because sometimes `Ctrl+C` isn't enough

---

## try it

add vibium to claude code:

```bash
claude mcp add vibium -- /path/to/vibium/clicker/bin/clicker mcp --screenshot-dir ./screenshots
```

then ask claude:

> "take a screenshot of https://news.ycombinator.com"

and it just works.

---

## the architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     stdio      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Claude Code      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  clicker mcp        â”‚
â”‚    (MCP Client)     â”‚   JSON-RPC     â”‚  (MCP Server)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â”‚ WebDriver BiDi
                                                  â–¼
                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                       â”‚  Chrome for Testing â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

no proxy server needed. the mcp server talks directly to chrome via bidi. simple.

---

## next up

day 11: polish & error handling. making errors helpful instead of cryptic.

four days left. we're gonna make it.

âœ¨ğŸ…ğŸ„ğŸâœ¨

*december 20, 2025*
